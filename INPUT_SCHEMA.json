{
  "title": "TikTok Shop Product and Creator Tracker",
  "description": "Track TikTok Shop products for metadata, price, availability, ratings, images, and creator-linked videos. Detect changes across runs and optionally send notifications.",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "productUrls": {
      "title": "Product URLs",
      "type": "array",
      "description": "List of TikTok Shop product detail URLs to scrape.",
      "editor": "stringList",
      "items": { "type": "string" },
      "default": []
    },
    "sellerHandles": {
      "title": "Seller handles",
      "type": "array",
      "description": "TikTok Shop seller handles or shop usernames. The actor will discover products from these sellers.",
      "editor": "stringList",
      "items": { "type": "string" },
      "default": []
    },
    "keywords": {
      "title": "Keywords",
      "type": "array",
      "description": "Search keywords to find products in TikTok Shop.",
      "editor": "stringList",
      "items": { "type": "string" },
      "default": []
    },

    "tiktokCategories": {
      "title": "TikTok Categories",
      "type": "array",
      "description": "Select one or more TikTok Shop categories (optional).",
      "editor": "select",
      "items": {
        "type": "string",
        "enum": [
          "beauty",
          "fashion",
          "electronics",
          "home",
          "pets",
          "sports",
          "food",
          "baby",
          "health"
        ],
        "enumTitles": [
          "Beauty & Personal Care",
          "Fashion & Accessories",
          "Electronics & Gadgets",
          "Home & Living",
          "Pet Supplies",
          "Sports & Outdoors",
          "Food & Beverages",
          "Baby & Kids",
          "Health & Wellness"
        ]
      },
      "default": []
    },

    "categoryUrls": {
      "title": "Category URLs",
      "type": "array",
      "description": "Paste TikTok Shop category URLs manually (optional).",
      "editor": "stringList",
      "items": { "type": "string" },
      "default": []
    },

    "region": {
      "title": "Region",
      "type": "string",
      "description": "Preferred TikTok Shop market locale. Used for Accept-Language and regional hints.",
      "editor": "select",
      "enum": ["US", "GB", "SG", "MY", "TH", "VN", "PH", "ID"],
      "enumTitles": [
        "United States",
        "United Kingdom",
        "Singapore",
        "Malaysia",
        "Thailand",
        "Vietnam",
        "Philippines",
        "Indonesia"
      ],
      "default": "US"
    },

    "acceptLanguage": {
      "title": "Accept-Language header",
      "type": "string",
      "description": "Custom Accept-Language header to hint region and language in the browser context.",
      "editor": "textfield",
      "default": "en-US,en;q=0.9"
    },

    "limits": {
      "title": "Limits",
      "type": "object",
      "description": "Optional limits for discovery and scraping.",
      "editor": "json",
      "properties": {
        "maxProducts": {
          "title": "Max products total",
          "type": "integer",
          "description": "Stop after collecting this many products overall. Leave empty for unlimited.",
          "minimum": 1
        },
        "maxProductsPerSeller": {
          "title": "Max products per seller",
          "type": "integer",
          "description": "Limit products discovered per seller.",
          "minimum": 1
        },
        "maxProductsPerCategory": {
          "title": "Max products per category",
          "type": "integer",
          "description": "Limit products discovered per category URL.",
          "minimum": 1
        }
      },
      "default": {}
    },

    "maxConcurrency": {
      "title": "Max concurrency",
      "type": "integer",
      "description": "Maximum number of concurrent product page tasks.",
      "default": 5,
      "minimum": 1,
      "maximum": 50
    },

    "timeouts": {
      "title": "Timeouts",
      "type": "object",
      "description": "Navigation and request timeouts in seconds.",
      "editor": "json",
      "properties": {
        "navigationTimeoutSecs": {
          "title": "Navigation timeout (secs)",
          "type": "integer",
          "description": "Maximum time in seconds to wait for a page navigation before failing.",
          "minimum": 5,
          "maximum": 120
        },
        "requestTimeoutSecs": {
          "title": "Request timeout (secs)",
          "type": "integer",
          "description": "Maximum time in seconds to wait for network requests before failing.",
          "minimum": 5,
          "maximum": 120
        }
      },
      "default": {
        "navigationTimeoutSecs": 25,
        "requestTimeoutSecs": 30
      }
    },

    "includeCreatorVideos": {
      "title": "Include creator-linked videos",
      "type": "boolean",
      "description": "Attempt to collect creator-linked videos and basic engagement stats.",
      "default": true
    },

    "captureScreenshots": {
      "title": "Capture screenshots",
      "type": "boolean",
      "description": "Capture a full-page product screenshot and save to the default key-value store.",
      "default": false
    },

    "notify": {
      "title": "Notifications",
      "type": "object",
      "description": "Optional Slack or generic webhook notifications on price or availability changes.",
      "editor": "json",
      "properties": {
        "enabled": {
          "title": "Enable notifications",
          "type": "boolean",
          "description": "Turn notifications on or off."
        },
        "onlyOnChange": {
          "title": "Only on change",
          "type": "boolean",
          "description": "Send notifications only when price or availability changes. If false, send a summary for each run."
        },
        "slackWebhookUrl": {
          "title": "Slack webhook URL",
          "type": "string",
          "description": "Slack incoming webhook URL for alerts."
        },
        "webhookUrl": {
          "title": "Generic webhook URL",
          "type": "string",
          "description": "Custom webhook URL to receive JSON payloads with detected changes."
        }
      },
      "default": {
        "enabled": true,
        "onlyOnChange": true
      }
    },

    "proxyConfiguration": {
      "title": "Proxy configuration",
      "type": "object",
      "description": "Use Apify Proxy or custom proxies. Regional proxies are recommended to match the selected region.",
      "editor": "proxy"
    },

    "debug": {
      "title": "Debug mode",
      "type": "boolean",
      "description": "Enable verbose logging and keep more data in the default key-value store.",
      "default": false
    }
  },
  "required": []
}
